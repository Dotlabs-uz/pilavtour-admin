{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ozodbek/work/dotlabs/pilavtour-admin/schemas/auth-schema.ts"],"sourcesContent":["import { z } from \"zod\"\n\nexport const loginSchema = z.object({\n  email: z.string().email(\"Invalid email address\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n})\n\nexport type LoginFormData = z.infer<typeof loginSchema>\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,cAAc,yNAAC,CAAC,MAAM,CAAC;IAClC,OAAO,yNAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,yNAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///home/ozodbek/work/dotlabs/pilavtour-admin/lib/firebase.ts"],"sourcesContent":["import { initializeApp } from \"firebase/app\"\nimport { getAuth, type Auth } from \"firebase/auth\"\nimport { getFirestore, type Firestore } from \"firebase/firestore\"\nimport { getStorage, type FirebaseStorage } from \"firebase/storage\"\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n}\n\nlet app: ReturnType<typeof initializeApp> | null = null\nlet auth: Auth | null = null\nlet db: Firestore | null = null\nlet storage: FirebaseStorage | null = null\n\nexport function initializeFirebase() {\n  if (!app) {\n    app = initializeApp(firebaseConfig)\n    auth = getAuth(app)\n    db = getFirestore(app)\n    storage = getStorage(app)\n  }\n  return { app, auth, db, storage }\n}\n\nexport function getFirebaseServices() {\n  if (!app || !auth || !db || !storage) {\n    return initializeFirebase()\n  }\n  return { app, auth, db, storage }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ,QAAQ,GAAG,CAAC,4BAA4B;IAChD,YAAY,QAAQ,GAAG,CAAC,gCAAgC;IACxD,WAAW,QAAQ,GAAG,CAAC,+BAA+B;IACtD,eAAe,QAAQ,GAAG,CAAC,mCAAmC;IAC9D,mBAAmB,QAAQ,GAAG,CAAC,wCAAwC;IACvE,OAAO,QAAQ,GAAG,CAAC,2BAA2B;AAChD;AAEA,IAAI,MAA+C;AACnD,IAAI,OAAoB;AACxB,IAAI,KAAuB;AAC3B,IAAI,UAAkC;AAE/B,SAAS;IACd,IAAI,CAAC,KAAK;QACR,MAAM,IAAA,gPAAa,EAAC;QACpB,OAAO,IAAA,iRAAO,EAAC;QACf,KAAK,IAAA,yRAAY,EAAC;QAClB,UAAU,IAAA,ySAAU,EAAC;IACvB;IACA,OAAO;QAAE;QAAK;QAAM;QAAI;IAAQ;AAClC;AAEO,SAAS;IACd,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;QACpC,OAAO;IACT;IACA,OAAO;QAAE;QAAK;QAAM;QAAI;IAAQ;AAClC"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///home/ozodbek/work/dotlabs/pilavtour-admin/lib/auth-store.ts"],"sourcesContent":["import { create } from \"zustand\"\nimport type { User } from \"@/types\"\n\ninterface AuthState {\n  user: User | null\n  isLoading: boolean\n  isAuthenticated: boolean\n  setUser: (user: User | null) => void\n  setIsLoading: (isLoading: boolean) => void\n  logout: () => void\n}\n\nexport const useAuthStore = create<AuthState>((set) => ({\n  user: null,\n  isLoading: true,\n  isAuthenticated: false,\n  setUser: (user) => set({ user, isAuthenticated: !!user, isLoading: false }),\n  setIsLoading: (isLoading) => set({ isLoading }),\n  logout: () => set({ user: null, isAuthenticated: false }),\n}))\n"],"names":[],"mappings":";;;;AAAA;;AAYO,MAAM,eAAe,IAAA,4VAAM,EAAY,CAAC,MAAQ,CAAC;QACtD,MAAM;QACN,WAAW;QACX,iBAAiB;QACjB,SAAS,CAAC,OAAS,IAAI;gBAAE;gBAAM,iBAAiB,CAAC,CAAC;gBAAM,WAAW;YAAM;QACzE,cAAc,CAAC,YAAc,IAAI;gBAAE;YAAU;QAC7C,QAAQ,IAAM,IAAI;gBAAE,MAAM;gBAAM,iBAAiB;YAAM;IACzD,CAAC"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///home/ozodbek/work/dotlabs/pilavtour-admin/app/login/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useForm } from \"react-hook-form\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { loginSchema, type LoginFormData } from \"@/schemas/auth-schema\"\nimport { getFirebaseServices } from \"@/lib/firebase\"\nimport { signInWithEmailAndPassword } from \"firebase/auth\"\nimport { doc, getDoc } from \"firebase/firestore\"\nimport { useAuthStore } from \"@/lib/auth-store\"\nimport { ArrowRight } from \"@untitled-ui/icons-react\"\n\nexport default function LoginPage() {\n  const router = useRouter()\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const { setUser } = useAuthStore()\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<LoginFormData>({\n    resolver: zodResolver(loginSchema),\n  })\n\n  const onSubmit = async (data: LoginFormData) => {\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      const { auth, db } = getFirebaseServices()\n\n      // Sign in with Firebase\n      const userCredential = await signInWithEmailAndPassword(auth, data.email, data.password)\n\n      // Check if user is admin\n      const adminDoc = await getDoc(doc(db, \"admins\", userCredential.user.uid))\n\n      if (!adminDoc.exists()) {\n        await auth.signOut()\n        setError(\"You do not have admin access\")\n        setIsLoading(false)\n        return\n      }\n\n      // Set auth token\n      const token = await userCredential.user.getIdToken()\n      document.cookie = `auth-token=${token}; path=/;`\n\n      // Update store\n      setUser({\n        id: userCredential.user.uid,\n        email: userCredential.user.email || \"\",\n        name: userCredential.user.displayName || \"\",\n        avatar: userCredential.user.photoURL || undefined,\n        createdAt: new Date(),\n        role: \"admin\",\n      })\n\n      router.push(\"/admin/users\")\n    } catch (err: any) {\n      setError(err.message || \"Login failed\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800 px-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"flex items-center justify-center gap-2 mb-4\">\n            <div className=\"w-10 h-10 bg-accent rounded-lg flex items-center justify-center\">\n              <ArrowRight className=\"w-6 h-6 text-white\" />\n            </div>\n          </div>\n          <h1 className=\"text-3xl font-bold text-white mb-2\">Pilav Tours</h1>\n          <p className=\"text-slate-300\">Admin Dashboard</p>\n        </div>\n\n        {/* Form Card */}\n        <div className=\"bg-white rounded-xl shadow-lg p-8\">\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-5\">\n            {/* Email Input */}\n            <div>\n              <label className=\"block text-sm font-medium text-slate-700 mb-2\">Email</label>\n              <input\n                {...register(\"email\")}\n                type=\"email\"\n                placeholder=\"admin@example.com\"\n                className=\"w-full px-4 py-3 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition\"\n              />\n              {errors.email && <p className=\"text-red-500 text-xs mt-1\">{errors.email.message}</p>}\n            </div>\n\n            {/* Password Input */}\n            <div>\n              <label className=\"block text-sm font-medium text-slate-700 mb-2\">Password</label>\n              <input\n                {...register(\"password\")}\n                type=\"password\"\n                placeholder=\"••••••••\"\n                className=\"w-full px-4 py-3 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition\"\n              />\n              {errors.password && <p className=\"text-red-500 text-xs mt-1\">{errors.password.message}</p>}\n            </div>\n\n            {/* Error Message */}\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\n                <p className=\"text-red-700 text-sm\">{error}</p>\n              </div>\n            )}\n\n            {/* Submit Button */}\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full bg-accent text-white font-semibold py-3 rounded-lg hover:bg-orange-600 transition disabled:opacity-50 flex items-center justify-center gap-2\"\n            >\n              {isLoading ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                  Logging in...\n                </>\n              ) : (\n                <>\n                  <ArrowRight className=\"w-4 h-4\" />\n                  Sign In\n                </>\n              )}\n            </button>\n          </form>\n        </div>\n\n        {/* Footer */}\n        <p className=\"text-center text-slate-400 text-sm mt-6\">© 2025 Pilav Tours. All rights reserved.</p>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}